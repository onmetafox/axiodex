specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: PriceFeedBTC
    network: base-testnet
    source:
      address: "0xf8340046E11672610532bc2F7554241ceE118fB7"
      abi: ChainlinkAggregator
      startBlock: 11710134
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - ChainlinkPrice
        - PriceCandle
      abis:
        - name: ChainlinkAggregator
          file: ./abis/ChainlinkAggregator.json
      eventHandlers:
        - event: AnswerUpdated(indexed int256,indexed uint256,uint256)
          handler: handleOracleAnswerUpdatedBTC
      file: ./src/mapping.ts
  - kind: ethereum/contract
    name: PriceFeedETH
    network: base-testnet
    source:
      address: "0xeEF0ee34696a7982b8AE27c67f91f364D91967a0"
      abi: ChainlinkAggregator
      startBlock: 11710134
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - ChainlinkPrice
        - PriceCandle
      abis:
        - name: ChainlinkAggregator
          file: ./abis/ChainlinkAggregator.json
      eventHandlers:
        - event: AnswerUpdated(indexed int256,indexed uint256,uint256)
          handler: handleOracleAnswerUpdatedETH
      file: ./src/mapping.ts
  - kind: ethereum/contract
    name: PriceFeedHEX
    network: base-testnet
    source:
      address: "0xD8b8f1a79a16239cE5E542cd9c53065Bb072a2B4"
      abi: PriceFeed
      startBlock: 11710134
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - ChainlinkPrice
        - PriceCandle
      abis:
        - name: PriceFeed
          file: ./abis/PriceFeed.json
      eventHandlers:
        - event: UpdateAnswer(address,uint80,int256)
          handler: handleAnswerUpdatedHEX
      file: ./src/mapping.ts
  - kind: ethereum/contract
    name: PriceFeedUSDC
    network: base-testnet
    source:
      address: "0x83Eb07416dAbDB3DE6b12a8FA63F372773814445"
      abi: ChainlinkAggregator
      startBlock: 11710134
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - ChainlinkPrice
        - PriceCandle
      abis:
        - name: ChainlinkAggregator
          file: ./abis/ChainlinkAggregator.json
      eventHandlers:
        - event: AnswerUpdated(indexed int256,indexed uint256,uint256)
          handler: handleOracleAnswerUpdatedUSDC
      file: ./src/mapping.ts