specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: PriceFeedBTC
    network: base-testnet
    source:
      address: "0xAC15714c08986DACC0379193e22382736796496f"
      abi: ChainlinkAggregator
      startBlock: 13708475
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - ChainlinkPrice
        - PriceCandle
      abis:
        - name: ChainlinkAggregator
          file: ./abis/ChainlinkAggregator.json
      eventHandlers:
        - event: AnswerUpdated(indexed int256,indexed uint256,uint256)
          handler: handleOracleAnswerUpdatedBTC
      file: ./src/mapping.ts
  - kind: ethereum/contract
    name: PriceFeedETH
    network: base-testnet
    source:
      address: "0xcD2A119bD1F7DF95d706DE6F2057fDD45A0503E2"
      abi: ChainlinkAggregator
      startBlock: 13708475
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - ChainlinkPrice
        - PriceCandle
      abis:
        - name: ChainlinkAggregator
          file: ./abis/ChainlinkAggregator.json
      eventHandlers:
        - event: AnswerUpdated(indexed int256,indexed uint256,uint256)
          handler: handleOracleAnswerUpdatedETH
      file: ./src/mapping.ts
  - kind: ethereum/contract
    name: PriceFeedHEX
    network: base-testnet
    source:
      address: "0x952FDcd6AEA0FCc124Dd50B433AAb1d82b006C62"
      abi: PriceFeed
      startBlock: 13708475
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - ChainlinkPrice
        - PriceCandle
      abis:
        - name: PriceFeed
          file: ./abis/PriceFeed.json
      eventHandlers:
        - event: UpdateAnswer(address,uint80,int256)
          handler: handleAnswerUpdatedHEX
      file: ./src/mapping.ts
  - kind: ethereum/contract
    name: PriceFeedUSDC
    network: base-testnet
    source:
      address: "0xb85765935B4d9Ab6f841c9a00690Da5F34368bc0"
      abi: ChainlinkAggregator
      startBlock: 13708475
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - ChainlinkPrice
        - PriceCandle
      abis:
        - name: ChainlinkAggregator
          file: ./abis/ChainlinkAggregator.json
      eventHandlers:
        - event: AnswerUpdated(indexed int256,indexed uint256,uint256)
          handler: handleOracleAnswerUpdatedUSDC
      file: ./src/mapping.ts